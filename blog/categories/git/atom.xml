<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: git | Ryland Herrick]]></title>
  <link href="http://rylnd.github.com/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://rylnd.github.com/"/>
  <updated>2013-07-06T16:37:44-05:00</updated>
  <id>http://rylnd.github.com/</id>
  <author>
    <name><![CDATA[Ryland Herrick]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[On Source Control]]></title>
    <link href="http://rylnd.github.com/blog/2013/06/23/on-source-control/"/>
    <updated>2013-06-23T20:10:00-05:00</updated>
    <id>http://rylnd.github.com/blog/2013/06/23/on-source-control</id>
    <content type="html"><![CDATA[<p>I was having a conversation with a couple of friends last week.
While neither would label himself as a professional developer, both worked with computers enough that we eventually landed on the topic of source control.</p>

<p>We all agreed that source control great and that <a href="http://git-scm.com/">git</a> is king.
One friend, after working IT at a university and seeing months of work lost when a professor accidentally overwrote his research, felt a great need for &ldquo;versioning for the masses.&rdquo;
And git certainly isn&rsquo;t for everyone.
But why <em>can&rsquo;t</em> there be a simple source control solution that everyone can use? What are the main features that are needed?</p>

<p>I want to say first that I think Google Docs is definitely a solution.
It does versioning of your documents, well and automatically.
But &ldquo;documents&rdquo; is only a subset of the things we may want to version, and so it&rsquo;s not a complete solution.</p>

<p>Obviously, the solution needs to be simple in order for everyone to be able to use it.
So what is version control, when simplified? It&rsquo;s the manipulation of time.</p>

<p>When we talk about &ldquo;versioning&rdquo;, we&rsquo;re talking about tracking the passage of time, and, implicitly, about the ability to move freely, in both directions, through it.
To bend time to our will.
The professor who overwrote his research file made a mistake, and wishes to revert to a time before he made that mistake.</p>

<p>If you&rsquo;re paying attention, you&rsquo;ve probably realized that you&rsquo;ve seen this ability before, within many applications.
But instead of calling it &ldquo;move backward through time&rdquo;, they usually shorten that to &ldquo;undo&rdquo;.</p>

<p>So, no, this isn&rsquo;t a novel idea. It&rsquo;s been in your word processor for decades.
But your filesystem is another story.
There&rsquo;s never been an &ldquo;undo&rdquo; command for filesystems, at least not until recently, and not for unix systems.</p>

<p>But why not? As we&rsquo;ve seen, the principle is simple enough.
We want to be able to move through time, but to do that we have to remember the past.
The tricky part, then, is choosing the heuristic for when to remember.
In a perfect world, where storage and performance were not concerns, remembering would be a continuous activity.
However, we do not live in that world, and so we must choose something more clever.
This could be at marked intervals, or when certain actions are performed.
At its simplest, though, the heuristic can be &ldquo;When I say so.&rdquo;</p>

<p>To further address the issue of storage, we can do a bit better than &ldquo;When I say so, store the whole world.&rdquo;
Couldn&rsquo;t we also say &ldquo;When I say so, store what&rsquo;s changed since the last time&rdquo;?
Most things are more or less static, and it certainly makes more sense to focus on the things that are changing.</p>

<p>Well, as it turns out (and maybe you saw this coming), git does an excellent job at all of this.
So can we leverage Linus' hard work and build a simple wrapper on top of git? Certainly.</p>

<p>Below are a few git aliases to reproduce <code>save</code>, <code>load</code>, <code>undo</code> and <code>redo</code>.
They mostly takes advantage of git&rsquo;s <a href="http://gitready.com/intermediate/2009/02/09/reflog-your-safety-net.html">reflog</a>, and they&rsquo;re only a rough draft, but they get the job done.</p>

<p><div><script src='https://gist.github.com/5931500.js?file=.gitconfig'></script>
<noscript><pre><code>[alias]
  save = !sh -c 'git add -A . &amp;&amp; git commit -m $1' -
  load = !sh -c 'git reset --hard $(git log -g -1 --grep &quot;$1&quot; --format=%H)' -
  undo = reset --hard HEAD@{1}
  redo = !sh -c 'git reflog | head -1 | grep -q &quot;reset&quot; &amp;&amp; git undo || echo &quot;cannot redo&quot;' -</code></pre></noscript></div>
</p>

<p>Can you do better? I don&rsquo;t doubt it. Let me know!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Still Alive!]]></title>
    <link href="http://rylnd.github.com/blog/2013/06/20/still-alive/"/>
    <updated>2013-06-20T00:02:00-05:00</updated>
    <id>http://rylnd.github.com/blog/2013/06/20/still-alive</id>
    <content type="html"><![CDATA[<blockquote><p>I was doing some style work on the blog recently, and I remembered that no one will care how good the site looks if there&rsquo;s no content. I know I&rsquo;ve not posted in a while, as my main outlets have been either <a href="http://twitter.com/rylnd">twitter</a> or <a href="https://coderwall.com/rylnd">coderwall</a>, so please check those out if there&rsquo;s nothing new here. Links are at the bottom, as well.</p></blockquote>

<p>I installed the wonderful <a href="https://github.com/tlvince/leanpress">leanpress</a> theme for this site, which as you&rsquo;ll remember is run on Octopress. I had to make a few customizations (mostly to fix up some gross old posts), but I&rsquo;m really loving its minimalism and emphasis on readability.</p>

<p>I think I&rsquo;m getting familiar enough with design that I&rsquo;ve reached a refinement phase, where the emphasis shifts from learning <em>how</em> to do something to learning <em>when</em> to do it. I no longer want a blog that&rsquo;s technologically impressive, I want one that people can read.</p>

<p>At almost two years into my career in web development, the most useful skill I&rsquo;ve acquired, without a doubt, is git. The concepts of source control combined with the power and prevalence of git make for a near-universally marketable skill. I love it and have a lot of thoughts on the topic, but I&rsquo;m saving them for another blog post.</p>

<p>At the beginning of my career, I didn&rsquo;t even know enough to recognize that big source-control-sized hole in my skillset. What was glaringly obvious, though, was that I didn&rsquo;t know javascript. However, since November I&rsquo;ve been working on an impressively large Backbone.js project with a team of awesome developers. Needless to say, I feel like I&rsquo;ve climbed that mountain as well. At the very least, I know what I don&rsquo;t know, but I feel confident in saying that I &lsquo;get&rsquo; javascript, now.</p>

<p>Of course, I owe it all to <a href="http://bendyworks.com">Bendyworks</a>. They saw my potential and enthusiasm, and gave me a strong foundation and the freedom to seek out my passions. In return, I&rsquo;ve done my best to help grow Bendyworks into the finest company that I can imagine.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Homebrew and Git]]></title>
    <link href="http://rylnd.github.com/blog/2013/01/17/homebrew-and-git/"/>
    <updated>2013-01-17T19:20:00-06:00</updated>
    <id>http://rylnd.github.com/blog/2013/01/17/homebrew-and-git</id>
    <content type="html"><![CDATA[<p>I recently had an issue installing git with homebrew, and want to share the solution.</p>

<p>The version of git (1.7.5.4) that XCode had installed for me was working just fine, but I wanted the shiny new one.</p>

<p>Here&rsquo;s what I was seeing:</p>

<pre><code>$ brew install git
...
==&gt; make prefix=/usr/local/Cellar/git/1.8.1.1 CC=/usr/bin/gcc-4.2 CFLAGS=-Os -w -pipe -march=core2 -msse4 -mmacosx-version-min=10.6 LDFLAGS=-L/usr
./perl Makefile.PL PREFIX='/usr/local/Cellar/git/1.8.1.1' INSTALL_BASE='' --localedir='/usr/local/Cellar/git/1.8.1.1/share/locale'
make[1]: ./perl: No such file or directory
make[1]: *** [perl.mak] Error 1
make: *** [perl/perl.mak] Error 2
make: *** Waiting for unfinished jobs....

READ THIS: https://github.com/mxcl/homebrew/wiki/troubleshooting

These open issues may also help:
    https://github.com/mxcl/homebrew/issues/11481
    https://github.com/mxcl/homebrew/issues/16194
    https://github.com/mxcl/homebrew/issues/16876
</code></pre>

<p><code>brew doctor</code> reported that everything was okay, and those GitHub issues weren&rsquo;t relevant. It was obvious from the output what was happening: <code>./perl</code> was failing. The question was, <em>why</em> ?</p>

<p>A clue came when I realized that it wasn&rsquo;t just calling <code>perl</code>, but rather a local copy of it.
Digging through the <a href="https://github.com/mxcl/homebrew/commits/master/Library/Formula/git.rb">homebrew formula</a> I came across <a href="https://github.com/mxcl/homebrew/blob/c5bf6f2313c415ed662f7922a24b86440e288c66/Library/Formula/git.rb#L35">this</a>:</p>

<pre><code># Clean XCode 4.x installs don't include Perl MakeMaker
ENV['NO_PERL_MAKEMAKER'] = '1' if MacOS.version &gt;= :lion
</code></pre>

<p>While I didn&rsquo;t have Lion, I <em>did</em> have an older version of XCode, so I gave it a shot:</p>

<pre><code>$ NO_PERL_MAKEMAKER=1 brew install git
</code></pre>

<p>and, lo, it worked perfectly.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Multiple Heroku Accounts and git]]></title>
    <link href="http://rylnd.github.com/blog/2012/04/27/multiple-heroku-accounts-and-git/"/>
    <updated>2012-04-27T16:49:00-05:00</updated>
    <id>http://rylnd.github.com/blog/2012/04/27/multiple-heroku-accounts-and-git</id>
    <content type="html"><![CDATA[<p>I was recently trying to deploy a heroku instance for some testing. I hadn&rsquo;t done any work on heroku in a while, and ended up getting stuck on a credentials issue.</p>

<p>While I had successfully done a <code>$ gem install heroku &amp;&amp; heroku create --stack cedar</code>, I got the following error when trying to do a <code>$ git push heroku master</code> to get things up and running:</p>

<pre><code>!  Your key with fingerprint 09:84:27:65:48:de:b4:48:fe:64:25:d8:dd:55:d8:db
is not authorized to access evening-snow-7878.

fatal: The remote end hung up unexpectedly
</code></pre>

<p>Hmm.  That looked like an ssh issue to me. A quick <code>$ ssh-keygen -l</code> of a few of my keys told me that it was using the &lsquo;wrong one,&rsquo; which was my default ssh key.</p>

<p>Looking at <code>$ heroku keys</code> didn&rsquo;t help; it was using the correct key. So the issue was with my ssh config, not the heroku gem or its configuration.</p>

<p>I quickly tried to add an entry to my <code>~/.ssh/config</code> file, along the lines of</p>

<pre><code>Host heroku.com
  IdentityFile ~/.ssh/the_key_you_want
</code></pre>

<p>But I still got the same error: it was still using the wrong key. I did some quick googling and couldn&rsquo;t find a good answer.  I eventually stumbled on this <a href="https://github.com/ddollar/heroku-accounts">excellent heroku plugin</a> that does exactly what I was looking for.</p>

<p>However, if you aren&rsquo;t using many accounts, and don&rsquo;t want to type a command in each terminal session, here&rsquo;s what it&rsquo;s doing under the covers (and what I ended up doing):</p>

<ol>
<li><p>Add something like the following to your <code>~/.ssh/config</code> file:</p>

<pre><code>Host heroku.app_name
  HostName heroku.com
  IdentityFile ~/.ssh/the_key_you_want
  IdentitiesOnly yes
</code></pre></li>
<li><p>Add a remote to your repo using that host:</p>

<pre><code>$ git remote add heroku git@heroku.app_name:app_name.git
</code></pre></li>
</ol>


<p>That should be it. Enjoy!</p>
]]></content>
  </entry>
  
</feed>
