
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>Ryland Herrick</title>

	<meta name="author" content="Ryland Herrick">

<meta name="description" content="Woke up to the promise of a blizzard. I was supposed to head down to Kenosha for a dentist&rsquo;s appointment this morning, but that was canceled &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ryland Herrick" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">Ryland Herrick</a></h1>
<span class="tagline">is a developer.</span>
<nav id="main-nav"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="mailto:ryalnd@gmail.com">Contact</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="mailto:ryalnd@gmail.com">Contact</a></li>
</ul>
</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2011/01/31/lots-of-snow/">
			
				Lots of Snow</a>
		</h2>
		<div class="meta date">








  


<time datetime="2011-01-31T19:11:48-06:00" pubdate data-updated="true">Jan 31<span>st</span>, 2011</time></div>
	</header>
	<div class="entry-content">
		<p>Woke up to the promise of a blizzard.</p>

<p>I was supposed to head down to Kenosha for a dentist&rsquo;s appointment this morning, but that was canceled due to weather; it wasn&rsquo;t a crucial appointment, and I really didn&rsquo;t want to be stuck there until Wednesday/Thursday.</p>

<p>Today also marked the first Mad Railers meeting I was (supposed to be) attending, but weather and lack of suitable transportation left me home coding instead.  I tried to make myself feel better with some Ruby/Rails research/education and rationalizing that my lack of knowledge in that framework would prevent me from learning/contributing much at such a meeting, but I&rsquo;m still bummed that I missed it and have yet to attend.  Next month&rsquo;s meeting is marked in red on the calendar.</p>

<p>PE update:  Did problems <a href="http://projecteuler.net/index.php?section=problems&amp;id=24">24</a>, <a href="http://projecteuler.net/index.php?section=problems&amp;id=36">36</a>, and <a href="http://projecteuler.net/index.php?section=problems&amp;id=34">34</a> today, in that order.  24 was the most interesting; I had started on a solution to it a few days ago.  I knew from my Combinatorics class how to represent permutations as a list of inversions:</p>

<blockquote><p>Given a set of n digits, each permutation of that set can be written as a list of n-1 numbers, say i(0)-i(n-1), where i(n) represents the number of inversions with respect to n. You only need n-1 numbers in the list/vector, as the last is implied(same idea as degrees of freedom in stats).</p></blockquote>

<p>If the original set is in lexicographic order, i.e. 12345, the easiest way to explain, say,  i(3) is as the count of numbers out of order with respect to 3.  If the permutation is 23145, the inversion vector(list) would be [1100].</p>

<p>This means that 2 has one number out of order (1), as does 3 (also 1).  Remember though, that inversions in general are just a pair(x,y), and a permutation can be defined as the list of pairwise-flips (inversions) it takes to get from the original number/set/whatever.</p>

<p>So, knowing that, I basically jumped into writing a solution as follows:</p>

<ul>
<li>The starting, 0th permutation is 0123456789</li>
<li>I would manually write out the next x permutations, in lexicographic order, along with the corresponding inversion vectors, in the hopes of seeing a pattern regarding the list of inversion vectors.

<ul>
<li>I did this under the idea that calculating 1,000,000 10-digit numbers in a certain way would be much faster than actually doing the permuting manually, one million times.</li>
</ul>
</li>
</ul>


<p>I did this for what ended up being the first 24 permutations, which corresponded to permutations of only the last 4 digits, and ended up with something like Table A:</p>

<div style='float:left;margin-right:0.5em;'>
<h5 style='margin:0.5em 0;'>Table A</h5>
<table>
<tr><th> number </th><th> permutation </th></tr>
<tr><td> 6987 </td><td> 012 </td></tr>
<tr><td> 7689 </td><td> 100 </td></tr>
<tr><td> 7698 </td><td> 101 </td></tr>
<tr><td> 7869 </td><td> 110 </td></tr>
<tr><td> 7896 </td><td> 111 </td></tr>
<tr><td> 7968 </td><td> 102 </td></tr>
<tr><td> 7986 </td><td> 112 </td></tr>
<tr><td> 8679 </td><td> 020 </td></tr>
<tr><td> 8697 </td><td> 021 </td></tr>
<tr><td> 8769 </td><td> 120 </td></tr>
<tr><td> 8796 </td><td> 121 </td></tr>
<tr><td> 8967 </td><td> 022 </td></tr>
<tr><td> 8976 </td><td> 122 </td></tr>
<tr><td> 9678 </td><td> 003 </td></tr>
<tr><td> 9687 </td><td> 013 </td></tr>
<tr><td> 9768 </td><td> 103 </td></tr>
<tr><td> 9786 </td><td> 113 </td></tr>
<tr><td> 9867 </td><td> 023 </td></tr>
<tr><td> 9876 </td><td> 123 </td></tr>
</table>
</div>




<div style='float:left;'>
<h5 style='margin:0.5em 0;'>Table B</h5>
<table>
<tr><th> decimal   </th><th> factorial   </th></tr>
<tr><td> 0         </td><td> 0!          </td></tr>
<tr><td> 1         </td><td> 10!         </td></tr>
<tr><td> 2         </td><td> 100!        </td></tr>
<tr><td> 3         </td><td> 110!        </td></tr>
<tr><td> 4         </td><td> 200!        </td></tr>
<tr><td> 5         </td><td> 210!        </td></tr>
<tr><td> 6         </td><td> 1000!       </td></tr>
<tr><td> 7         </td><td> 1010!       </td></tr>
<tr><td> 8         </td><td> 1100!       </td></tr>
<tr><td> 9         </td><td> 1110!       </td></tr>
<tr><td> 10        </td><td> 1200!       </td></tr>
<tr><td> 11        </td><td> 1210!       </td></tr>
<tr><td> 12        </td><td> 2000!       </td></tr>
<tr><td> 13        </td><td> 2010!       </td></tr>
<tr><td> 14        </td><td> 2100!       </td></tr>
<tr><td> 15        </td><td> 2110!       </td></tr>
<tr><td> 16        </td><td> 2200!       </td></tr>
<tr><td> 17        </td><td> 2210!       </td></tr>
<tr><td> 18        </td><td> 3000!       </td></tr>
<tr><td> 19        </td><td> 3010!       </td></tr>
<tr><td> 20        </td><td> 3100!       </td></tr>
<tr><td> 21        </td><td> 3110!       </td></tr>
<tr><td> 22        </td><td> 3200!       </td></tr>
<tr><td> 23        </td><td> 3210!       </td></tr>
</table>
</div>


<div style='clear:both;'></div>


<p>Not seeing a pattern?  Neither did I.  It starts out looking like it&rsquo;s just counting up in binary, but then a 2 pops up, and there aren&rsquo;t any nice rules like, say, &lsquo;they increase in value from L to R&rsquo; because of cases like 8679.</p>

<p>I tried in vain to see/reverse-engineer a pattern from this list of vectors, and eventually gave up for the night.   I knew that I was on the right track, that somehow the order in which these items were inverted to preserve lexicographic order wasn&rsquo;t just random.  As with some of my past PE solutions, the key came from a little bit of research: I was browsing Wikipedia&rsquo;s entry on permutations, when I came to <a href="http://en.wikipedia.org/wiki/Permutation#Numbering_permutations">this</a>.</p>

<p>Well, that definitely looked promising.  After a bit more reading and clicking links, I came upon Table B (found <a href="http://en.wikipedia.org/wiki/Factorial_number_system#Examples">here</a>):</p>

<p>Ok, so they&rsquo;re not exactly the same.  I think the irregularities come from my non-standard, on-the-fly way of representing permutations, but you can imagine my excitement when I found that table.  It meant my hunch was right, and the main point was this:  <strong>Listing permutations in lexicographic order yields a pattern of inversion vectors, and this pattern corresponds directly to the factoradic representation of that permutation&rsquo;s order in that list.  </strong>Or, to quote Wikipedia a few lines down:</p>

<p><em>There is a natural mapping between the integers 0, &hellip;, n! − 1 (or equivalently the numbers with n digits in factorial representation) and permutations of n elements in lexicographical order, when the integers are expressed in factoradic form. This mapping has been termed the Lehmer code (or inversion table).</em></p>

<p>Well, there you have it.  The trick comes from writing a decimal in factoradic form, i.e.</p>

<pre><code>15 = 2110! = 2*3! + 1*2! + 1*1! + 0*0!
</code></pre>

<p>and 2110 as an inversion vector corresponds to the permutation 2130, which is:</p>

<blockquote><p>The 15th permutation of 0123. Yay!</p></blockquote>

<p>So I had my answer.  To find the millionth lexicographic permutation of 0123456789, all I had to do was find the factoradic representation of 999999 (off by one), which would map to an inversion vector, from which I could find the permutation.  And find it I did.</p>

<p>After that, 36 and 34 were easy.  For 36 I just wrote a function <code>is_pal()</code> that takes a string and returns whether or not it&rsquo;s palindromic (and now I know how to get the binary representation of an int!).  34 was even easier: I reused the factorial function I had just written for 24 (I know there are built-in ones now; I wanted to write my own).</p>

<p>Hopefully tomorrow won&rsquo;t get snowed out.</p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2011/01/26/im-bored/">
			
				I&#8217;m Bored</a>
		</h2>
		<div class="meta date">








  


<time datetime="2011-01-26T12:40:20-06:00" pubdate data-updated="true">Jan 26<span>th</span>, 2011</time></div>
	</header>
	<div class="entry-content">
		<p>Project Euler Update: I&rsquo;ve still been plugging away at various PE problems.
I finally finished my first 25(26 now) problems, earning me a &lsquo;Level 1&rsquo; status which from what I can tell is just a title.  But it&rsquo;s <em>my</em> title!
So, I know I talked about showing some code, and I still plan to post all the solutions I&rsquo;ve written, but to whet your appetites here&rsquo;s a quick, straightforward solution to problem 30:</p>

<div><script src='https://gist.github.com/2019448.js?file=p30.py'></script>
<noscript><pre><code>def split(str): return sum(int(x)**5 for x in str)
print sum(i for i in range(2, 999999) if i == split(str(i)))</code></pre></noscript></div>


<p>Nothing too special going on here (though I&rsquo;m finally getting the hang of list comprehensions).  It&rsquo;s basically brute force, which from what I&rsquo;ve seen on the forums is really the only way it&rsquo;s been done. The <code>split()</code> function gets the value for a given number(passed as a string, not an int), and the next line finds all numbers fitting the criteria of the problem. The solution space of 2-999,999 comes from the fact that since the maximum value for a digit is 9<sup>5</sup> = 59049, no number with 7 or more digits could possibly be part of the solution since 7 x 9<sup>5</sup> = 413,343 &lt;&lt;&lt; 9,999,999.</p>

<p>Tonight&rsquo;s the first week of the Stand-Up Competition at the Comedy Club.  I was there for part of last year&rsquo;s, and since a cheap comedy show is the pastime of choice for poor, unemployed, narcissistic college graduates around the world, I plan on being a regular attendee for the next few weeks.</p>

<p>I&rsquo;ve decided I don&rsquo;t like the look of the site, anymore.  I&rsquo;ll be changing things around soon, or maybe just tweaking, so check back.</p>

<p>EDIT(7:02pm):  I felt like a bum for not doing any PE today, so I just did problem 29 with:</p>

<div><script src='https://gist.github.com/2019448.js?file=p29.py'></script>
<noscript><pre><code>print len(set(a**b for a in range(2,101) for b in range(2,101)))</code></pre></noscript></div>


<p>using python&rsquo;s <code>set</code> structure to avoid having to remove duplicates myself.</p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2011/01/21/more-euler-problem-15/">
			
				More Euler: Problem 15</a>
		</h2>
		<div class="meta date">








  


<time datetime="2011-01-21T11:49:36-06:00" pubdate data-updated="true">Jan 21<span>st</span>, 2011</time></div>
	</header>
	<div class="entry-content">
		<p>So I came upon problem 15 last night, after finishing up 12, 13, and 14.  Though I was done for the night, and an obvious solution wasn&rsquo;t immediately apparent, I knew one thing: buried in my mind somewhere is the answer to this problem.  I knew I had done math like this before, I just had to figure out to what class this problem belonged.</p>

<p>That, though, turned out to be pretty frustrating.  I turned off my monitor and tried to sleep, but couldn&rsquo;t help thinking about the problem.  At first I tried to think of the grid as a graph (which was obviously easy), with intersections being nodes and lines edges, under the assumption that perhaps this was some type of network flow problem.  I soon realized that this was a much simpler problem than that, which made me consider it even more (instead of sleeping, mind).</p>

<p>The arrows in the diagram apparently threw me at first; this was not a network problem.  I started thinking along the right lines as soon as I dozed off: I knew it wasn&rsquo;t &lsquo;wrong&rsquo; to think of the grid as a graph, with limited paths, and that a choice was being made at each node (whether to go down or right).  The rest came just right now.</p>

<p>I hadn&rsquo;t consciously thought of it until my mind came back to it just now.  The breakthrough came when I realized that each possible path was of the same length (W + L or 2L, same here) and consisted of an equal number (here, L) of &lsquo;down&rsquo; and &lsquo;right&rsquo; moves.</p>

<p>It sometimes helps when I write things out visually, so to represent this to myself I wrote out the example 2x2 grid paths as binary: 0011, 0101, 0110, 1001, 1010, 1100.</p>

<p>Only then did I FINALLY, embarrassingly realize what this problem was: really basic combinatorics.  Here&rsquo;s how I broke down the problem: given an nxn grid, what it&rsquo;s really asking is how many ways you can arrange n/2 1s and n/2 0s along a string of length n.  Since, however, these 0s and 1s are indistinguishable, the answer ends up being &lsquo;n choose n/2&rsquo;, or:</p>

<pre><code>  n!
------
2(n/2)!
</code></pre>

<p>The only real programming I did for this one was calculating those factorials, which in python (or any language) is pretty trivial.  Problem 15 down.</p>

<p>I biked downtown today.  It was cold.  Like, -13° windchill cold.  I needed some exercise, though, to work off this cold I&rsquo;ve had.  It was worth it just to see her smile.</p>

<p>I realized earlier that I&rsquo;d never chronicled my experience with Dropquest 2011.  For right now I&rsquo;ll just say it was incredibly fun and rewarding; I live for that kind of thing.  Maybe I&rsquo;ll expound a bit more later.  Until then.</p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2011/01/20/euler-oilier/">
			
				Euler, Oilier.</a>
		</h2>
		<div class="meta date">








  


<time datetime="2011-01-20T15:34:43-06:00" pubdate data-updated="true">Jan 20<span>th</span>, 2011</time></div>
	</header>
	<div class="entry-content">
		<p>What&rsquo;s in the news &hellip;?</p>

<p>Off the top of my mind, this: <a href="http://www.donothingfor2minutes.com/">LINK</a>.</p>

<p>Now, I thought I was a patient person; I let programs run, pages load: I give them their time.  But to surrender control of both my mouse and keyboard for two minutes made me reconsider just how impatient I really am at my desk.</p>

<p>I&rsquo;m writing this as my solution to problem 12 on Project Euler chugs away, eating my resources.  It&rsquo;s a very, VERY brute-force solution, mind you.  The actual question can be found <a href="http://projecteuler.net/index.php?section=problems&amp;id=12">here</a>.  It seems fairly straightforward; find the first triangle number with >500 factors.  I wrote a method to calculate the nth triangle number, and then wrote a brute-force &lsquo;factor counter&rsquo;, which just goes through every number smaller than the given input and sees if it divides it cleanly.  So that&rsquo;s running.</p>

<p>In the meantime, though, I started looking up smarter solutions, of which this time there thankfully are.  There&rsquo;s a much easier way to calculate the number of factors a number has, based off its prime factors (I&rsquo;ll leave you to google it if you&rsquo;re interested).  So, once I write a &lsquo;prime-factorizer&rsquo; I should have a much better solution.</p>

<p>This work with Ruby and Python has given me more than an academic reason to learn more about functional programming.  I watched a few really great FP talks by Rich Hickey that got me interested, but learning the basics was as far as that had got me.  While there&rsquo;s still not a pressing need to really involve myself, it&rsquo;s nice to be able to slowly add bits and pieces to my repertoire as I need/research/find them.</p>

<p>EDIT(10:52pm)
So &hellip; while I was writing that post, I was realizing that my brute-force solution wasn&rsquo;t cutting it.  In fact, it probably wouldn&rsquo;t find the solution if I left it overnight, as it was taking exponentially longer with each new number (I was aware of this problem).</p>

<p>So, I went back, did a little research, and wrote a program that counts factors based on the number&rsquo;s prime factors.  It found the solution in under 1s.  Problem 13 down.</p>

<p>Live and learn.  Goodnight.</p>

		
		
	</div>

</article>


    <nav id="pagenavi">
        
            <a href="/blog/page/5/" class="prev">Previous</a>
        
        
            <a href="/blog/page/7/" class="next">Next</a>
        
    </nav>

</div>
	<footer id="footer" class="inner"><div class='social'>
  

  

  
  <a class="twitter" href="http://twitter.com/rylnd" t
    tle="Twitter">Twitter</a>
  

  
  <a class="github" href="https://github.com/rylnd" title="GitHub">GitHub</a>
  

  
  <a class="coderwall" href="https://coderwall.com/rylnd" title="Coderwall">Coderwall</a>
  

  

  
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  
</div>

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/hyphenator.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'ry-land';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-20884325-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




</body>
</html>
