
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<meta name="google-site-verification" content="DMktftag3SaeUj1svJuVSPSKDCHdQJRrsIOBC2RN1pk" />
	<title>On Source Control | Ryland Herrick</title>

	<meta name="author" content="Ryland Herrick">

<meta name="description" content="I was having a conversation with a couple of friends last week.
While neither would label himself as a professional developer, both worked with &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ryland Herrick" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">Ryland Herrick</a></h1>
<span class="tagline">is a developer.</span>
<nav id="main-nav"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="mailto:ryalnd@gmail.com">Contact</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="mailto:ryalnd@gmail.com">Contact</a></li>
</ul>
</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<header>
		<h2 class="title">On Source Control</h2>
		<div class="meta date">








  


<time datetime="2013-06-23T20:10:00-05:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2013</time></div>
	</header>
	<div class="entry-content"><p>I was having a conversation with a couple of friends last week.
While neither would label himself as a professional developer, both worked with computers enough that we eventually landed on the topic of source control.</p>

<p>We all agreed that source control great and that <a href="http://git-scm.com/">git</a> is king.
One friend, after working IT at a university and seeing months of work lost when a professor accidentally overwrote his research, felt a great need for &ldquo;versioning for the masses.&rdquo;
And git certainly isn&rsquo;t for everyone.
But why <em>can&rsquo;t</em> there be a simple source control solution that everyone can use? What are the main features that are needed?</p>

<p>I want to say first that I think Google Docs is definitely a solution.
It does versioning of your documents, well and automatically.
But &ldquo;documents&rdquo; is only a subset of the things we may want to version, and so it&rsquo;s not a complete solution.</p>

<p>Obviously, the solution needs to be simple in order for everyone to be able to use it.
So what is version control, when simplified? It&rsquo;s the manipulation of time.</p>

<p>When we talk about &ldquo;versioning&rdquo;, we&rsquo;re talking about tracking the passage of time, and, implicitly, about the ability to move freely, in both directions, through it.
To bend time to our will.
The professor who overwrote his research file made a mistake, and wishes to revert to a time before he made that mistake.</p>

<p>If you&rsquo;re paying attention, you&rsquo;ve probably realized that you&rsquo;ve seen this ability before, within many applications.
But instead of calling it &ldquo;move backward through time&rdquo;, they usually shorten that to &ldquo;undo&rdquo;.</p>

<p>So, no, this isn&rsquo;t a novel idea. It&rsquo;s been in your word processor for decades.
But your filesystem is another story.
There&rsquo;s never been an &ldquo;undo&rdquo; command for filesystems, at least not until recently, and not for unix systems.</p>

<p>But why not? As we&rsquo;ve seen, the principle is simple enough.
We want to be able to move through time, but to do that we have to remember the past.
The tricky part, then, is choosing the heuristic for when to remember.
In a perfect world, where storage and performance were not concerns, remembering would be a continuous activity.
However, we do not live in that world, and so we must choose something more clever.
This could be at marked intervals, or when certain actions are performed.
At its simplest, though, the heuristic can be &ldquo;When I say so.&rdquo;</p>

<p>To further address the issue of storage, we can do a bit better than &ldquo;When I say so, store the whole world.&rdquo;
Couldn&rsquo;t we also say &ldquo;When I say so, store what&rsquo;s changed since the last time&rdquo;?
Most things are more or less static, and it certainly makes more sense to focus on the things that are changing.</p>

<p>Well, as it turns out (and maybe you saw this coming), git does an excellent job at all of this.
So can we leverage Linus&#8217; hard work and build a simple wrapper on top of git? Certainly.</p>

<p>Below are a few git aliases to reproduce <code>save</code>, <code>load</code>, <code>undo</code> and <code>redo</code>.
They mostly takes advantage of git&rsquo;s <a href="http://gitready.com/intermediate/2009/02/09/reflog-your-safety-net.html">reflog</a>, and they&rsquo;re only a rough draft, but they get the job done.</p>

<div><script src='https://gist.github.com/5931500.js?file=.gitconfig'></script>
<noscript><pre><code>[alias]
  save = !sh -c 'git add -A . &amp;&amp; git commit -m $1' -
  load = !sh -c 'git reset --hard $(git log -g -1 --grep &quot;$1&quot; --format=%H)' -
  undo = reset --hard HEAD@{1}
  redo = !sh -c 'git reflog | head -1 | grep -q &quot;reset&quot; &amp;&amp; git undo || echo &quot;cannot redo&quot;' -</code></pre></noscript></div>


<p>Can you do better? I don&rsquo;t doubt it. Let me know!</p>
</div>
	

</article>

	
	<div class="share">
		<ul>
			<li>
  <a href="https://twitter.com/intent/tweet?text=On Source Control by @rylnd&url=http://rylnd.github.com/blog/2013/06/23/on-source-control/" title="Share On Source Control on Twitter">
    <img src="/images/social/twitter.png" />
  </a>
</li>

			<li>
  <a href="https://www.facebook.com/sharer.php?u=http://rylnd.github.com/blog/2013/06/23/on-source-control/" title="Share On Source Control on Facebook">
    <img src="/images/social/facebook.png" />
  </a>
</li>

			<li>
  <a href="https://plus.google.com/share?url=http://rylnd.github.com/blog/2013/06/23/on-source-control/" title="Share On Source Control on Google Plus">
    <img src="/images/social/google.png" />
  </a>
</li>

		</ul>
	</div>




<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner"><div class='social'>
  

  

  
  <a class="twitter" href="http://twitter.com/rylnd" t
    tle="Twitter">Twitter</a>
  

  
  <a class="github" href="https://github.com/rylnd" title="GitHub">GitHub</a>
  

  
  <a class="coderwall" href="https://coderwall.com/rylnd" title="Coderwall">Coderwall</a>
  

  

  
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
  
</div>

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/hyphenator.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'ry-land';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rylnd.github.com/blog/2013/06/23/on-source-control/';
        var disqus_url = 'http://rylnd.github.com/blog/2013/06/23/on-source-control/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-20884325-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




</body>
</html>
