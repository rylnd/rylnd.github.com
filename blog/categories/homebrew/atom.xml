<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: homebrew | Ryland Herrick]]></title>
  <link href="http://rylnd.github.com/blog/categories/homebrew/atom.xml" rel="self"/>
  <link href="http://rylnd.github.com/"/>
  <updated>2013-06-15T22:05:06-05:00</updated>
  <id>http://rylnd.github.com/</id>
  <author>
    <name><![CDATA[Ryland Herrick]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Homebrew and Git]]></title>
    <link href="http://rylnd.github.com/blog/2013/01/17/homebrew-and-git/"/>
    <updated>2013-01-17T19:20:00-06:00</updated>
    <id>http://rylnd.github.com/blog/2013/01/17/homebrew-and-git</id>
    <content type="html"><![CDATA[<p>I recently had an issue installing git with homebrew, and want to share the solution.</p>

<p>The version of git (1.7.5.4) that XCode had installed for me was working just fine, but I wanted the shiny new one.</p>

<p>Here&rsquo;s what I was seeing:</p>

<pre><code>$ brew install git
...
==&gt; make prefix=/usr/local/Cellar/git/1.8.1.1 CC=/usr/bin/gcc-4.2 CFLAGS=-Os -w -pipe -march=core2 -msse4 -mmacosx-version-min=10.6 LDFLAGS=-L/usr
./perl Makefile.PL PREFIX='/usr/local/Cellar/git/1.8.1.1' INSTALL_BASE='' --localedir='/usr/local/Cellar/git/1.8.1.1/share/locale'
make[1]: ./perl: No such file or directory
make[1]: *** [perl.mak] Error 1
make: *** [perl/perl.mak] Error 2
make: *** Waiting for unfinished jobs....

READ THIS: https://github.com/mxcl/homebrew/wiki/troubleshooting

These open issues may also help:
    https://github.com/mxcl/homebrew/issues/11481
    https://github.com/mxcl/homebrew/issues/16194
    https://github.com/mxcl/homebrew/issues/16876
</code></pre>

<p><code>brew doctor</code> reported that everything was okay, and those GitHub issues weren&rsquo;t relevant. It was obvious from the output what was happening: <code>./perl</code> was failing. The question was, <em>why</em> ?</p>

<p>A clue came when I realized that it wasn&rsquo;t just calling <code>perl</code>, but rather a local copy of it.
Digging through the <a href="https://github.com/mxcl/homebrew/commits/master/Library/Formula/git.rb">homebrew formula</a> I came across <a href="https://github.com/mxcl/homebrew/blob/c5bf6f2313c415ed662f7922a24b86440e288c66/Library/Formula/git.rb#L35">this</a>:</p>

<pre><code># Clean XCode 4.x installs don't include Perl MakeMaker
ENV['NO_PERL_MAKEMAKER'] = '1' if MacOS.version &gt;= :lion
</code></pre>

<p>While I didn&rsquo;t have Lion, I <em>did</em> have an older version of XCode, so I gave it a shot:</p>

<pre><code>$ NO_PERL_MAKEMAKER=1 brew install git
</code></pre>

<p>and, lo, it worked perfectly.</p>
]]></content>
  </entry>
  
</feed>
